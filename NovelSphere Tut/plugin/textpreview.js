"use strict";!function(){var r=!1,n=void 0;Tag.actions.text_preview_start=new TagAction({rules:{layer:{type:"MESSAGE_LAYER"},page:{type:/fore|back/},text:{type:"STRING",required:!0},delay:{type:"FLOAT",defaultValue:0}},action:function(t){if(r)return o2.warn("すでにpreviewを使っているレイヤーがあります"),0;var a;return r=!0,a=t.layer&&t.page?t.layer[t.page]:o2.currentMessageLayer,function e(){a.resetMessageLayer(),a.drawText(t.text,function(){n=setTimeout(function(){n=void 0,r&&e()},t.delay)})}(),0}}),Tag.actions.text_preview_end=new TagAction({rules:{},action:function(e){return r=!1,void 0!==n&&clearTimeout(n),0}})}();